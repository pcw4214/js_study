<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script nomodule="">
      // NEW 연산자와 생성자 함수
      //객체 리터럴 {...} 을 사용하면 객체를 쉽게 만들 수 있습니다. 그런데 개발을 하다 보면 유사한 객체를 여러 개 만들어야 할 때가 생기곤 합니다. 복수의 사용자, 메뉴 내 다양한 아이템을 객체로 표현하려고 하는 경우가 그렇죠.
      //'new' 연산자와 생성자 함수를 사용하면 유사한 객체 여러 개를 쉽게 만들 수 있습니다.
      function User(name) {
        this.name = name;
        this.isAdmin = false;
      }

      let user = new User("보라");

      alert(user.name); // 보라
      alert(user.isAdmin); // false
      let user = {
        name: "보라",
        isAdmin: false,
      };
      //재사용할 수 있는 객체 생성 코드를 구현하는 것이죠.
      //이름의 '첫 글자가 대문자’인 함수는 new를 붙여 실행해야 한다는 점도 잊지 마세요. 공동의 약속이니까요.
    </script>
    <script nomodule="">
      //생성자 함수엔 보통 return 문이 없습니다. 반환해야 할 것들은 모두 this에 저장되고, this는 자동으로 반환되기 때문에 반환문을 명시적으로 써 줄 필요가 없습니다.
      //그런데 만약 return 문이 있다면 어떤 일이 벌어질까요? 아래와 같은 간단한 규칙이 적용됩니다.
      //객체를 return 한다면 this 대신 객체가 반환됩니다.
      //원시형을 return 한다면 return문이 무시됩니다.
      //return 뒤에 객체가 오면 생성자 함수는 해당 객체를 반환해주고, 이 외의 경우는 this가 반환되죠.
      function BigUser() {
        this.name = "원숭이";

        return { name: "고릴라" }; // <-- this가 아닌 새로운 객체를 반환함
      }

      alert(new BigUser().name); // 고릴라
    </script>
    <script>
      // 생성자 함수(짧게 줄여서 생성자)는 일반 함수입니다. 다만, 일반 함수와 구분하기 위해 함수 이름 첫 글자를 대문자로 씁니다.
      //생성자 함수는 반드시 new 연산자와 함께 호출해야 합니다. new와 함께 호출하면 내부에서 this가 암시적으로 만들어지고, 마지막엔 this가 반환됩니다.
    </script>
  </body>
</html>
